{# ABOUTME: Agent status pill button for the command bar. #}
{# ABOUTME: Single toggle: dark pill when running (with green dot), light when paused/stopped. #}

<div id="agent-status">
    {% if running %}
    <button class="agent-pill agent-pill-running"
            hx-post="/web/specs/{{ spec_id }}/agents/pause"
            hx-target="#agent-status"
            hx-swap="outerHTML">
        <span class="agent-pill-dot"></span>
        Agents active
    </button>
    {% else if started %}
    <button class="agent-pill agent-pill-paused"
            hx-post="/web/specs/{{ spec_id }}/agents/resume"
            hx-target="#agent-status"
            hx-swap="outerHTML">
        <span class="agent-pill-dot"></span>
        Agents paused
    </button>
    {% else %}
    <button class="agent-pill agent-pill-stopped"
            hx-post="/web/specs/{{ spec_id }}/agents/start"
            hx-target="#agent-status"
            hx-swap="outerHTML">
        <span class="agent-pill-dot"></span>
        Start agents
    </button>
    {% endif %}
</div>
