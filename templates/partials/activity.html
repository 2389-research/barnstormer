<div hx-ext="sse" sse-connect="/api/specs/{{ spec_id }}/events/stream">
    {% include "partials/activity_transcript.html" %}
</div>

<div class="chat-input" id="chat-input">
    <form hx-post="/web/specs/{{ spec_id }}/chat"
          hx-target="#activity-container"
          hx-swap="innerHTML">
        <div class="chat-input-row">
            <input type="text" name="message" placeholder="Type a message..." autocomplete="off" required>
            <button type="submit" class="btn btn-primary btn-sm">Send</button>
        </div>
    </form>
</div>

<div class="agent-controls">
    <div id="agent-status"
         hx-get="/web/specs/{{ spec_id }}/agents/status"
         hx-trigger="load"
         hx-swap="outerHTML">
    </div>
    <button class="btn btn-sm"
            hx-post="/web/specs/{{ spec_id }}/undo"
            hx-target="#spec-content"
            hx-swap="innerHTML">
        Undo
    </button>
</div>
